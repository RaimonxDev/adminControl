<div class="flex flex-auto justify-center w-full p-32 xs:p-8">

    <div class="flex flex-wrap w-full max-w-1280">

        <!-- Total visits -->
        <div class="flex flex-auto w-320 h-400 p-16">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex flex-col p-24 pb-8">
                    <div class="flex items-center justify-between">
                        <div class="font-bold text-md text-secondary uppercase tracking-wider">Total Visits</div>
                        <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">30 days</div>
                    </div>
                    <div class="font-semibold text-5xl mt-16">{{data.totalVisits.amount / 1000 | number:'1.1-1'}}k</div>
                    <div class="flex items-center">
                        <mat-icon class="mr-4 text-green"
                                  [svgIcon]="'trending_up'"></mat-icon>
                        <div class="font-medium text-sm text-secondary leading-none">
                            <span class="text-green">24%</span>
                            more visits
                        </div>
                    </div>
                </div>
                <div class="flex flex-auto items-end">
                    <apx-chart class="w-full h-full"
                               [chart]="totalVisitsOptions.chart"
                               [colors]="totalVisitsOptions.colors"
                               [grid]="totalVisitsOptions.grid"
                               [series]="totalVisitsOptions.series"
                               [tooltip]="totalVisitsOptions.tooltip"
                               [xaxis]="totalVisitsOptions.xaxis"
                               [yaxis]="totalVisitsOptions.yaxis"
                               #totalVisitsChartComponent></apx-chart>
                </div>
            </div>
        </div>

        <!-- Purchases -->
        <div class="flex flex-auto w-320 h-400 p-16 theme-dark bg-transparent">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex flex-col p-24 pb-8">
                    <div class="flex items-center justify-between">
                        <div class="font-bold text-md text-secondary uppercase tracking-wider">Purchases</div>
                        <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">30 days</div>
                    </div>
                    <div class="font-semibold text-5xl mt-16">{{data.purchases.amount / 1000 | number:'1.1-1'}}k</div>
                    <div class="flex items-center">
                        <mat-icon class="mr-4 text-red"
                                  [svgIcon]="'trending_down'"></mat-icon>
                        <div class="font-medium text-sm text-secondary leading-none">
                            <span class="text-red">2%</span>
                            less purchase
                        </div>
                    </div>
                </div>
                <div class="flex flex-auto items-end">
                    <apx-chart class="w-full h-full"
                               [chart]="purchasesOptions.chart"
                               [colors]="purchasesOptions.colors"
                               [series]="purchasesOptions.series"
                               [tooltip]="purchasesOptions.tooltip"
                               [xaxis]="purchasesOptions.xaxis"
                               [yaxis]="purchasesOptions.yaxis"
                               #purchasesChartComponent></apx-chart>
                </div>
            </div>
        </div>

        <!-- Conversion rate -->
        <div class="flex flex-auto w-640 h-400 p-16">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex flex-col p-24 pb-8">
                    <div class="flex items-center justify-between">
                        <div class="font-bold text-md text-secondary uppercase tracking-wider mr-16">Conversion Rate</div>
                        <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">1 year</div>
                    </div>
                    <div class="font-semibold text-5xl mt-16">{{data.conversionRate.amount}}%</div>
                    <div class="flex items-center">
                        <mat-icon class="mr-4 text-green"
                                  [svgIcon]="'trending_up'"></mat-icon>
                        <div class="font-medium text-sm text-secondary leading-none">
                            <span class="text-green">90%</span>
                            growth compared to previous year
                        </div>
                    </div>
                </div>
                <div class="flex flex-auto items-end px-12 pb-8">
                    <apx-chart class="w-full h-200"
                               [chart]="conversionRateOptions.chart"
                               [colors]="conversionRateOptions.colors"
                               [dataLabels]="conversionRateOptions.dataLabels"
                               [grid]="conversionRateOptions.grid"
                               [plotOptions]="conversionRateOptions.plotOptions"
                               [series]="conversionRateOptions.series"
                               [tooltip]="conversionRateOptions.tooltip"
                               [xaxis]="conversionRateOptions.xaxis"
                               [yaxis]="conversionRateOptions.yaxis"
                               #conversionRateChartComponent></apx-chart>
                </div>
            </div>
        </div>

        <h3 class="w-full px-16">
            Unique Visitors
        </h3>

        <!-- Unique visitors -->
        <div class="flex flex-auto w-320 h-400 p-16">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex flex-col p-24 pb-8">
                    <div class="flex items-center justify-between">
                        <div class="font-bold text-md text-secondary uppercase tracking-wider">Unique Visitors</div>
                        <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">30 days</div>
                    </div>
                    <div class="font-semibold text-5xl mt-16">{{data.uniqueVisitors.amount / 1000 | number:'1.1-1'}}k</div>
                    <div class="flex items-center">
                        <mat-icon class="mr-4 text-green"
                                  [svgIcon]="'trending_up'"></mat-icon>
                        <div class="font-medium text-sm text-secondary leading-none">
                            <span class="text-green">4%</span>
                            more unique visitors
                        </div>
                    </div>
                </div>
                <div class="flex flex-auto items-end">
                    <apx-chart class="w-full h-full"
                               [chart]="uniqueVisitorsOptions.chart"
                               [colors]="uniqueVisitorsOptions.colors"
                               [series]="uniqueVisitorsOptions.series"
                               [tooltip]="uniqueVisitorsOptions.tooltip"
                               [xaxis]="uniqueVisitorsOptions.xaxis"
                               [yaxis]="uniqueVisitorsOptions.yaxis"
                               #uniqueVisitorsChartComponent></apx-chart>
                </div>
            </div>
        </div>

        <!-- Channels -->
        <div class="flex flex-auto w-320 h-400 p-16">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex flex-col p-24 pb-16">
                    <div class="flex items-center justify-between">
                        <div class="font-bold text-md text-secondary uppercase tracking-wider">Channels</div>
                        <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">30 days</div>
                    </div>
                    <div class="mt-32 font-semibold text-2xl leading-tight">
                        <span class="text-purple-600">Direct</span>
                        is the most popular channel
                    </div>
                </div>
                <div class="flex flex-auto items-center px-24">
                    <apx-chart class="w-full h-12"
                               [chart]="channelsOptions.chart"
                               [colors]="channelsOptions.colors"
                               [grid]="channelsOptions.grid"
                               [plotOptions]="channelsOptions.plotOptions"
                               [series]="channelsOptions.series"
                               [states]="channelsOptions.states"
                               [tooltip]="channelsOptions.tooltip"
                               [xaxis]="channelsOptions.xaxis"
                               [yaxis]="channelsOptions.yaxis"
                               #channelsChartComponent></apx-chart>
                </div>
                <div class="flex flex-col flex-auto justify-end text-md px-24 pb-16">
                    <div class="flex items-center justify-between py-12 border-b last:border-b-0 leading-none"
                         *ngFor="let dataset of data.channels.series; let i = index">
                        <div class="flex items-center w-1/3">
                            <div class="w-8 h-8 mr-12 rounded-full"
                                 [ngStyle]="{backgroundColor: channelsChartComponent.colors[i]}"></div>
                            <div>{{dataset.name}}</div>
                        </div>
                        <div class="w-1/3 font-medium text-right">{{dataset.data[0]}}</div>
                        <div class="w-1/3 text-right text-secondary">{{dataset.data[0] * 100 / data.channels.amount | number:'1.0-0'}}%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Devices -->
        <div class="flex flex-auto w-320 h-400 p-16">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex flex-col p-24 pb-16">
                    <div class="flex items-center justify-between">
                        <div class="font-bold text-md text-secondary uppercase tracking-wider">Devices</div>
                        <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">30 days</div>
                    </div>
                    <div class="mt-32 font-semibold text-2xl leading-tight">
                        <span class="text-teal-600">Desktop</span>
                        is the most popular device
                    </div>
                </div>
                <div class="flex flex-auto items-center px-24">
                    <apx-chart class="w-full h-12"
                               [chart]="devicesOptions.chart"
                               [colors]="devicesOptions.colors"
                               [grid]="devicesOptions.grid"
                               [plotOptions]="devicesOptions.plotOptions"
                               [series]="devicesOptions.series"
                               [states]="devicesOptions.states"
                               [tooltip]="devicesOptions.tooltip"
                               [xaxis]="devicesOptions.xaxis"
                               [yaxis]="devicesOptions.yaxis"
                               #devicesChartComponent></apx-chart>
                </div>
                <div class="flex flex-col flex-auto justify-end text-md px-24 pb-16">
                    <div class="flex items-center justify-between py-12 border-b last:border-b-0 leading-none"
                         *ngFor="let dataset of data.devices.series; let i = index">
                        <div class="flex items-center w-1/3">
                            <div class="w-8 h-8 mr-12 rounded-full"
                                 [ngStyle]="{backgroundColor: devicesChartComponent.colors[i]}"></div>
                            <div>{{dataset.name}}</div>
                        </div>
                        <div class="w-1/3 font-medium text-right">{{dataset.data[0]}}</div>
                        <div class="w-1/3 text-right text-secondary">{{dataset.data[0] * 100 / data.devices.amount | number:'1.0-0'}}%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Browsers -->
        <div class="flex flex-auto w-320 h-400 p-16">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex flex-col p-24 pb-16">
                    <div class="flex items-center justify-between">
                        <div class="font-bold text-md text-secondary uppercase tracking-wider">Browsers</div>
                        <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">30 days</div>
                    </div>
                    <div class="mt-32 font-semibold text-2xl leading-tight">
                        <span class="text-pink-600">Chrome</span>
                        is the most used browser
                    </div>
                </div>
                <div class="flex flex-auto items-center px-24">
                    <apx-chart class="w-full h-12"
                               [chart]="browsersOptions.chart"
                               [colors]="browsersOptions.colors"
                               [grid]="browsersOptions.grid"
                               [plotOptions]="browsersOptions.plotOptions"
                               [series]="browsersOptions.series"
                               [states]="browsersOptions.states"
                               [tooltip]="browsersOptions.tooltip"
                               [xaxis]="browsersOptions.xaxis"
                               [yaxis]="browsersOptions.yaxis"
                               #browsersChartComponent></apx-chart>
                </div>
                <div class="flex flex-col flex-auto justify-end text-md px-24 pb-16">
                    <div class="flex items-center justify-between py-12 border-b last:border-b-0 leading-none"
                         *ngFor="let dataset of data.browsers.series; let i = index">
                        <div class="flex items-center w-1/3">
                            <div class="w-8 h-8 mr-12 rounded-full"
                                 [ngStyle]="{backgroundColor: browsersChartComponent.colors[i]}"></div>
                            <div>{{dataset.name}}</div>
                        </div>
                        <div class="w-1/3 font-medium text-right">{{dataset.data[0]}}</div>
                        <div class="w-1/3 text-right text-secondary">{{dataset.data[0] * 100 / data.browsers.amount | number:'1.0-0'}}%</div>
                    </div>
                </div>
            </div>
        </div>

        <h3 class="w-full px-16">Searches vs. Revenue</h3>

        <!-- Searches table -->
        <div class="flex flex-auto w-640 p-16 overflow-hidden">
            <div class="flex flex-col flex-auto bg-card shadow-md rounded-8 overflow-hidden">
                <div class="flex items-center justify-between p-24">
                    <div>
                        <div class="font-bold text-md text-secondary uppercase tracking-wider">Top 10 searches & revenues</div>
                        <div class="text-sm text-hint">2 searches went up on the list, 3 searches held their positions</div>
                    </div>
                    <div class="ml-24 font-medium text-sm text-hint whitespace-no-wrap">30 days</div>
                </div>
                <div class="overflow-auto">
                    <table class="w-full bg-transparent"
                           mat-table
                           matSort
                           [dataSource]="searchesDataSource"
                           [trackBy]="trackById"
                           #searchesTable>

                        <!-- Search -->
                        <ng-container matColumnDef="search">
                            <th class="bg-gray-100 dark:bg-gray-700 border-t"
                                mat-header-cell
                                mat-sort-header
                                *matHeaderCellDef>
                                Search
                            </th>
                            <td mat-cell
                                *matCellDef="let search">
                                <span class="flex items-center whitespace-no-wrap leading-none">
                                    <span class="mr-12">
                                        <mat-icon class="text-green icon-size-16"
                                                  *ngIf="search.position==='up'"
                                                  [svgIcon]="'arrow_upward'">
                                        </mat-icon>
                                        <mat-icon class="text-red icon-size-16"
                                                  *ngIf="search.position==='down'"
                                                  [svgIcon]="'arrow_downward'">
                                        </mat-icon>
                                        <mat-icon class="text-secondary icon-size-16"
                                                  *ngIf="search.position==='no-change'"
                                                  [svgIcon]="'remove'">
                                        </mat-icon>
                                    </span>
                                    <span>
                                        {{search.search}}
                                    </span>
                                </span>
                            </td>
                        </ng-container>

                        <!-- Count -->
                        <ng-container matColumnDef="count">
                            <th class="bg-gray-100 dark:bg-gray-700 border-t"
                                mat-header-cell
                                mat-sort-header
                                [arrowPosition]="'before'"
                                *matHeaderCellDef>
                                Count
                            </th>
                            <td class="text-right"
                                mat-cell
                                *matCellDef="let search">
                                {{search.count}}
                            </td>
                        </ng-container>

                        <!-- Revenue -->
                        <ng-container matColumnDef="revenue">
                            <th class="bg-gray-100 dark:bg-gray-700 border-t"
                                mat-header-cell
                                mat-sort-header
                                [arrowPosition]="'before'"
                                *matHeaderCellDef>
                                Revenue
                            </th>
                            <td class="text-right pl-24"
                                mat-cell
                                *matCellDef="let search">
                                {{search.revenue | currency}}
                            </td>
                        </ng-container>

                        <!-- Footer -->
                        <ng-container matColumnDef="searchesTableFooter">
                            <td class="px-12 border-none"
                                mat-footer-cell
                                *matFooterCellDef
                                colspan="6">
                                <button mat-button
                                        [color]="'primary'">
                                    Show more searches
                                </button>
                            </td>
                        </ng-container>

                        <tr mat-header-row
                            *matHeaderRowDef="searchesTableColumns"></tr>
                        <tr class="search-row h-64"
                            mat-row
                            *matRowDef="let row; columns: searchesTableColumns;"></tr>
                        <tr class="h-64"
                            mat-footer-row
                            *matFooterRowDef="['searchesTableFooter']"></tr>
                    </table>
                </div>
            </div>
        </div>

    </div>

</div>
