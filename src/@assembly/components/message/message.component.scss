@import 'assembly';

asm-message {

    // Common
    .asm-message-container {
        display: flex;
        align-items: center;
        min-height: 64px;
        padding: 24px;
        font-size: 14px;
        line-height: 1;

        // Icon
        .asm-message-icon {

            .asm-message-custom-icon,
            .asm-message-default-icon {
                display: none;
                align-items: center;
                justify-content: center;
                width: 48px;
                height: 48px;
                border-radius: 50%;

                &:not(:empty) {
                    display: flex;
                    margin-right: 24px;
                }
            }

            .asm-message-custom-icon {
                display: none;

                &:not(:empty) {
                    display: flex;

                    + .asm-message-default-icon {
                        display: none;
                    }
                }
            }
        }

        // Content
        .asm-message-content {
            display: flex;
            flex-direction: column;
            line-height: 1.5;

            // Title
            .asm-message-title {
                display: none;
                font-size: 15px;
                font-weight: 700;

                &:not(:empty) {
                    display: block;
                }
            }

            // Message
            .asm-message-message {
                display: none;

                &:not(:empty) {
                    display: block;
                }
            }
        }

        // Dismiss button
        .asm-message-dismiss-button {
            margin-left: auto;
        }
    }

    // Dismissible
    &.asm-message-dismissible {

        .asm-message-container {
            padding: 16px 16px 16px 24px;

            .asm-message-content {
                margin-right: 8px;
            }
        }
    }

    // Border
    &.asm-message-appearance-border {

        .asm-message-container {
            overflow: hidden;
            border-left: 6px solid;
            border-radius: 4px;
            @include asm-elevation(1);
        }
    }

    // Solid
    &.asm-message-appearance-solid {

        .asm-message-container {
            border-radius: 4px;
        }
    }

    // Outline
    &.asm-message-appearance-outline {

        .asm-message-container {
            position: relative;
            overflow: hidden;
            border-radius: 4px;

            &:before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                bottom: 0;
                width: 6px;
            }
        }
    }
}

// -----------------------------------------------------------------------------------------------------
// @ Theming
// -----------------------------------------------------------------------------------------------------
@include asm-theme {

    $background: map-get($theme, background);
    $foreground: map-get($theme, foreground);
    $primary: map-get($theme, primary);
    $accent: map-get($theme, accent);
    $warn: map-get($theme, warn);
    $is-dark: map-get($theme, is-dark);

    asm-message {

        .asm-message-container {

            // Icon
            .mat-icon {
                color: currentColor;
            }
        }

        // Border
        &.asm-message-appearance-border {

            .asm-message-container {
                background: map-get($background, card);

                .asm-message-message {
                    color: map-get($foreground, secondary-text);
                }
            }

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    border-left-color: map-get($primary, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($primary, default);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(map-get($primary, default), 0.12);
                        }
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    border-left-color: map-get($accent, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($accent, default);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(map-get($accent, default), 0.12);
                        }
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    border-left-color: map-get($warn, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($warn, default);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(map-get($warn, default), 0.12);
                        }
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    border-left-color: asm-color($asm-gray, 600);

                    .asm-message-title,
                    .asm-message-icon {
                        color: asm-color($asm-gray, 600);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(asm-color($asm-gray, 600), 0.12);
                        }
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    border-left-color: #4299E1;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #4299E1;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#4299E1, 0.12);
                        }
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    border-left-color: #48BB78;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #48BB78;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#48BB78, 0.12);
                        }
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    border-left-color: #ED8936;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #ED8936;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#ED8936, 0.12);
                        }
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    border-left-color: #E53E3E;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #E53E3E;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#E53E3E, 0.12);
                        }
                    }
                }
            }
        }

        // Solid
        &.asm-message-appearance-solid {

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    background: map-get($primary, default);
                    color: map-get($primary, default-contrast);

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(map-get($primary, default-contrast), 0.12);
                        }
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    background: map-get($accent, default);
                    color: map-get($accent, default-contrast);

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(map-get($accent, default-contrast), 0.12);
                        }
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    background: map-get($warn, default);
                    color: map-get($warn, default-contrast);

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(map-get($warn, default-contrast), 0.12);
                        }
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    background: asm-color($asm-gray, 500);
                    color: asm-color($asm-gray, 100);

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(asm-color($asm-gray, 100), 0.12);
                        }
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    background: #4299E1;
                    color: #EBF8FF;

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#EBF8FF, 0.12);
                        }
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    background: #48BB78;
                    color: #F0FFF4;

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#F0FFF4, 0.12);
                        }
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    background: #ED8936;
                    color: #FFFAF0;

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#FFFAF0, 0.12);
                        }
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    background: #E53E3E;
                    color: #FFF5F5;

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {
                            background: rgba(#FFF5F5, 0.12);
                        }
                    }
                }
            }
        }

        // Outline
        &.asm-message-appearance-outline {

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px map-get($primary, 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($primary, 400);
                    } @else {
                        background: map-get($primary, 100);
                        color: map-get($primary, 700);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(map-get($primary, 400), 0.12);
                            } @else {
                                background: rgba(map-get($primary, 700), 0.12);
                            }
                        }
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px map-get($accent, 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($accent, 400);
                    } @else {
                        background: map-get($accent, 100);
                        color: map-get($accent, 700);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(map-get($accent, 400), 0.12);
                            } @else {
                                background: rgba(map-get($accent, 700), 0.12);
                            }
                        }
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px map-get($warn, 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($warn, 400);
                    } @else {
                        background: map-get($warn, 100);
                        color: map-get($warn, 700);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(map-get($warn, 400), 0.12);
                            } @else {
                                background: rgba(map-get($warn, 700), 0.12);
                            }
                        }
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px asm-color($asm-gray, 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: asm-color($asm-gray, 400);
                    } @else {
                        background: asm-color($asm-gray, 100);
                        color: asm-color($asm-gray, 700);
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(asm-color($asm-gray, 400), 0.12);
                            } @else {
                                background: rgba(asm-color($asm-gray, 700), 0.12);
                            }
                        }
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #63B3ED;

                    @if ($is-dark) {
                        background: transparent;
                        color: #63B3ED;
                    } @else {
                        background: #EBF8FF;
                        color: #2B6CB0;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(#63B3ED, 0.12);
                            } @else {
                                background: rgba(#2B6CB0, 0.12);
                            }
                        }
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #68D391;

                    @if ($is-dark) {
                        background: transparent;
                        color: #68D391;
                    } @else {
                        background: #F0FFF4;
                        color: #2F855A;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(#68D391, 0.12);
                            } @else {
                                background: rgba(#2F855A, 0.12);
                            }
                        }
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #F6AD55;

                    @if ($is-dark) {
                        background: transparent;
                        color: #F6AD55;
                    } @else {
                        background: #FFFAF0;
                        color: #C05621;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(#F6AD55, 0.12);
                            } @else {
                                background: rgba(#C05621, 0.12);
                            }
                        }
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #FC8181;

                    @if ($is-dark) {
                        background: transparent;
                        color: #FC8181;
                    } @else {
                        background: #FFF5F5;
                        color: #C53030;
                    }

                    .asm-message-icon {

                        .asm-message-default-icon,
                        .asm-message-custom-icon {

                            @if ($is-dark) {
                                background: rgba(#FC8181, 0.12);
                            } @else {
                                background: rgba(#C53030, 0.12);
                            }
                        }
                    }
                }
            }
        }
    }
}
