@import 'assembly';

asm-message {
    display: block;

    // Show icon
    &.asm-message-show-icon {

        .asm-message-container {
            padding-left: 56px;
        }
    }

    // Dismissible
    &.asm-message-dismissible {

        .asm-message-container {
            padding-right: 56px;
        }
    }

    // Common
    .asm-message-container {
        position: relative;
        display: flex;
        min-height: 64px;
        padding: 16px 24px;
        font-size: 14px;
        line-height: 1;

        // Icon
        .asm-message-icon {
            position: absolute;
            top: 20px;
            left: 17px;

            .asm-message-custom-icon,
            .asm-message-default-icon {
                display: none;
                align-items: center;
                justify-content: center;
                border-radius: 50%;

                &:not(:empty) {
                    display: flex;
                }
            }

            .asm-message-custom-icon {
                display: none;

                &:not(:empty) {
                    display: flex;

                    + .asm-message-default-icon {
                        display: none;
                    }
                }
            }
        }

        // Content
        .asm-message-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            line-height: 1;

            // Title
            .asm-message-title {
                display: none;
                font-size: 15px;
                font-weight: 600;
                line-height: 1.2;

                &:not(:empty) {
                    display: block;
                }

                p {
                    line-height: 1.625;
                }
            }

            // Message
            .asm-message-message {
                display: none;

                &:not(:empty) {
                    display: block;
                }

                p {
                    line-height: 1.625;
                }
            }
        }

        // Dismiss button
        .asm-message-dismiss-button {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 32px !important;
            min-width: 32px !important;
            height: 32px !important;
            min-height: 32px !important;
            line-height: 32px !important;
            margin-left: auto;

            .mat-icon {
                @include asm-icon-size(20);
            }
        }
    }

    // Dismissible
    &:not(.asm-message-dismissible) {

        .asm-message-container {

            .asm-message-dismiss-button {
                display: none !important;
            }
        }
    }

    // Border
    &.asm-message-appearance-border {

        .asm-message-container {
            overflow: hidden;
            border-left-width: 4px;
            border-radius: 4px;
            @include asm-elevation('xl');
        }
    }

    // Fill
    &.asm-message-appearance-fill {

        .asm-message-container {
            border-radius: 4px;
        }
    }

    // Outline
    &.asm-message-appearance-outline {

        .asm-message-container {
            overflow: hidden;
            border-radius: 4px;

            &:before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                bottom: 0;
                width: 6px;
            }
        }
    }
}

// -----------------------------------------------------------------------------------------------------
// @ Theming
// -----------------------------------------------------------------------------------------------------
@include asm-theme {

    $background: map-get($theme, background);
    $foreground: map-get($theme, foreground);
    $primary: map-get($theme, primary);
    $accent: map-get($theme, accent);
    $warn: map-get($theme, warn);
    $is-dark: map-get($theme, is-dark);

    asm-message {

        .asm-message-container {

            // Icon
            .mat-icon {
                color: currentColor;
            }
        }

        // Border
        &.asm-message-appearance-border {

            .asm-message-container {
                background: map-get($background, card);

                .asm-message-message {
                    color: map-get($foreground, secondary-text);
                }
            }

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    border-left-color: map-get($primary, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($primary, default);
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    border-left-color: map-get($accent, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($accent, default);
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    border-left-color: map-get($warn, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($warn, default);
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    border-left-color: asm-color('cool-gray', 600);

                    .asm-message-title,
                    .asm-message-icon {
                        color: asm-color('cool-gray', 600);
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    border-left-color: asm-color('blue', 600);

                    .asm-message-title,
                    .asm-message-icon {
                        color: asm-color('blue', 700);
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    border-left-color: asm-color('green', 500);

                    .asm-message-title,
                    .asm-message-icon {
                        color: asm-color('green', 500);
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    border-left-color: asm-color('yellow', 400);

                    .asm-message-title,
                    .asm-message-icon {
                        color: asm-color('yellow', 400);
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    border-left-color: asm-color('red', 600);

                    .asm-message-title,
                    .asm-message-icon {
                        color: asm-color('red', 700);
                    }
                }
            }
        }

        // Fill
        &.asm-message-appearance-fill {

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    background: map-get($primary, default);
                    color: map-get($primary, default-contrast);

                    code {
                        background: map-get($primary, 600);
                        color: map-get($primary, '600-contrast');
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    background: map-get($accent, default);
                    color: map-get($accent, default-contrast);

                    code {
                        background: map-get($accent, 600);
                        color: map-get($accent, '600-contrast');
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    background: map-get($warn, default);
                    color: map-get($warn, default-contrast);

                    code {
                        background: map-get($warn, 800);
                        color: map-get($warn, '800-contrast');
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    background: asm-color('cool-gray', 500);
                    color: asm-color('cool-gray', 50);

                    code {
                        background: asm-color('cool-gray', 600);
                        color: asm-color('cool-gray', 50);
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    background: asm-color('blue', 600);
                    color: asm-color('blue', 50);

                    code {
                        background: asm-color('blue', 800);
                        color: asm-color('blue', 50);
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    background: asm-color('green', 500);
                    color: asm-color('green', 50);

                    code {
                        background: asm-color('green', 600);
                        color: asm-color('green', 50);
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    background: asm-color('yellow', 400);
                    color: asm-color('yellow', 50);

                    code {
                        background: asm-color('yellow', 600);
                        color: asm-color('yellow', 50);
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    background: asm-color('red', 600);
                    color: asm-color('red', 50);

                    code {
                        background: asm-color('red', 800);
                        color: asm-color('red', 50);
                    }
                }
            }
        }

        // Outline
        &.asm-message-appearance-outline {

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($primary, 300);
                        box-shadow: inset 0 0 0 1px map-get($primary, 300);
                    } @else {
                        background: map-get($primary, 50);
                        color: map-get($primary, 800);
                        box-shadow: inset 0 0 0 1px map-get($primary, 400);
                    }

                    code {
                        background: map-get($primary, 200);
                        color: map-get($primary, 800);
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($accent, 300);
                        box-shadow: inset 0 0 0 1px map-get($accent, 300);
                    } @else {
                        background: map-get($accent, 50);
                        color: map-get($accent, 800);
                        box-shadow: inset 0 0 0 1px map-get($accent, 400);
                    }

                    code {
                        background: map-get($accent, 200);
                        color: map-get($accent, 800);
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($warn, 300);
                        box-shadow: inset 0 0 0 1px map-get($warn, 300);
                    } @else {
                        background: map-get($warn, 50);
                        color: map-get($warn, 800);
                        box-shadow: inset 0 0 0 1px map-get($warn, 400);
                    }

                    code {
                        background: map-get($warn, 200);
                        color: map-get($warn, 800);
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: asm-color('cool-gray', 300);
                        box-shadow: inset 0 0 0 1px asm-color('cool-gray', 300);
                    } @else {
                        background: asm-color('cool-gray', 50);
                        color: asm-color('cool-gray', 800);
                        box-shadow: inset 0 0 0 1px asm-color('cool-gray', 400);
                    }

                    code {
                        background: asm-color('cool-gray', 200);
                        color: asm-color('cool-gray', 800);
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: asm-color('blue', 300);
                        box-shadow: inset 0 0 0 1px asm-color('blue', 300);
                    } @else {
                        background: asm-color('blue', 50);
                        color: asm-color('blue', 800);
                        box-shadow: inset 0 0 0 1px asm-color('blue', 400);
                    }

                    code {
                        background: asm-color('blue', 200);
                        color: asm-color('blue', 800);
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: asm-color('green', 300);
                        box-shadow: inset 0 0 0 1px asm-color('green', 300);
                    } @else {
                        background: asm-color('green', 50);
                        color: asm-color('green', 800);
                        box-shadow: inset 0 0 0 1px asm-color('green', 400);
                    }

                    code {
                        background: asm-color('green', 200);
                        color: asm-color('green', 800);
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: asm-color('yellow', 300);
                        box-shadow: inset 0 0 0 1px asm-color('yellow', 300);
                    } @else {
                        background: asm-color('yellow', 50);
                        color: asm-color('yellow', 800);
                        box-shadow: inset 0 0 0 1px asm-color('yellow', 400);
                    }

                    code {
                        background: asm-color('yellow', 200);
                        color: asm-color('yellow', 800);
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    @if ($is-dark) {
                        background: transparent;
                        color: asm-color('red', 500);
                        box-shadow: inset 0 0 0 1px asm-color('red', 500);
                    } @else {
                        background: asm-color('red', 50);
                        color: asm-color('red', 800);
                        box-shadow: inset 0 0 0 1px asm-color('red', 400);
                    }

                    code {
                        background: asm-color('red', 200);
                        color: asm-color('red', 800);
                    }
                }
            }
        }
    }
}
