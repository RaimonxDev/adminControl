@import 'src/@assembly/styles/assembly';

asm-message {

    // Show icon
    &.asm-message-show-icon {

        .asm-message-container {
            padding: 16px 16px 16px 20px;
        }
    }

    // Common
    .asm-message-container {
        display: flex;
        align-items: center;
        padding: 16px 24px;
        font-size: 14px;
        line-height: 1;


        // Icon
        .asm-message-icon {

            .asm-message-custom-icon,
            .asm-message-default-icon {
                display: none;
                align-items: center;
                justify-content: center;
                border-radius: 50%;

                &:not(:empty) {
                    display: flex;
                    margin-right: 16px;
                }
            }

            .asm-message-custom-icon {
                display: none;

                &:not(:empty) {
                    display: flex;

                    + .asm-message-default-icon {
                        display: none;
                    }
                }
            }
        }

        // Content
        .asm-message-content {
            display: flex;
            flex-direction: column;
            line-height: 1.5;

            // Title
            .asm-message-title {
                display: none;
                font-size: 15px;
                font-weight: 600;

                &:not(:empty) {
                    display: block;
                }
            }

            // Message
            .asm-message-message {
                display: none;

                &:not(:empty) {
                    display: block;
                }
            }
        }

        // Dismiss button
        .asm-message-dismiss-button {
            margin-left: auto;
        }
    }

    // Dismissible
    &:not(.asm-message-dismissible) {

        .asm-message-container {

            .asm-message-dismiss-button {
                display: none !important;
            }
        }
    }

    // Border
    &.asm-message-appearance-border {

        .asm-message-container {
            overflow: hidden;
            border-width: 1px;
            border-left-width: 8px;
            border-radius: 6px;
            @include asm-elevation('xl');
        }
    }

    // Fill
    &.asm-message-appearance-fill {

        .asm-message-container {
            border-radius: 4px;
        }
    }

    // Outline
    &.asm-message-appearance-outline {

        .asm-message-container {
            position: relative;
            overflow: hidden;
            border-radius: 4px;

            &:before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                bottom: 0;
                width: 6px;
            }
        }
    }
}

// -----------------------------------------------------------------------------------------------------
// @ Theming
// -----------------------------------------------------------------------------------------------------
@include asm-theme {

    $background: map-get($theme, background);
    $foreground: map-get($theme, foreground);
    $primary: map-get($theme, primary);
    $accent: map-get($theme, accent);
    $warn: map-get($theme, warn);
    $is-dark: map-get($theme, is-dark);

    asm-message {

        .asm-message-container {

            // Icon
            .mat-icon {
                color: currentColor;
            }
        }

        // Border
        &.asm-message-appearance-border {

            .asm-message-container {
                background: map-get($background, card);

                .asm-message-message {
                    color: map-get($foreground, secondary-text);
                }
            }

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    border-color: map-get($primary, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($primary, default);
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    border-color: map-get($accent, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($accent, default);
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    border-color: map-get($warn, default);

                    .asm-message-title,
                    .asm-message-icon {
                        color: map-get($warn, default);
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    border-color: asm-color('gray', 600);

                    .asm-message-title,
                    .asm-message-icon {
                        color: asm-color('gray', 600);
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    border-color: #4299E1;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #4299E1;
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    border-color: #48BB78;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #48BB78;
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    border-color: #ED8936;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #ED8936;
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    border-color: #E53E3E;

                    .asm-message-title,
                    .asm-message-icon {
                        color: #E53E3E;
                    }
                }
            }
        }

        // Fill
        &.asm-message-appearance-fill {

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    background: map-get($primary, default);
                    color: map-get($primary, default-contrast);
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    background: map-get($accent, default);
                    color: map-get($accent, default-contrast);
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    background: map-get($warn, default);
                    color: map-get($warn, default-contrast);
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    background: asm-color('gray', 500);
                    color: asm-color('gray', 100);
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    background: #4299E1;
                    color: #EBF8FF;
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    background: #48BB78;
                    color: #F0FFF4;
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    background: #ED8936;
                    color: #FFFAF0;
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    background: #E53E3E;
                    color: #FFF5F5;
                }
            }
        }

        // Outline
        &.asm-message-appearance-outline {

            // Primary
            &.asm-message-type-primary {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px map-get($primary, 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($primary, 400);
                    } @else {
                        background: map-get($primary, 100);
                        color: map-get($primary, 700);
                    }
                }
            }

            // Accent
            &.asm-message-type-accent {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px map-get($accent, 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($accent, 400);
                    } @else {
                        background: map-get($accent, 100);
                        color: map-get($accent, 700);
                    }
                }
            }

            // Warn
            &.asm-message-type-warn {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px map-get($warn, 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: map-get($warn, 400);
                    } @else {
                        background: map-get($warn, 100);
                        color: map-get($warn, 700);
                    }
                }
            }

            // Basic
            &.asm-message-type-basic {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px asm-color('gray', 400);

                    @if ($is-dark) {
                        background: transparent;
                        color: asm-color('gray', 400);
                    } @else {
                        background: asm-color('gray', 100);
                        color: asm-color('gray', 700);
                    }
                }
            }

            // Info
            &.asm-message-type-info {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #63B3ED;

                    @if ($is-dark) {
                        background: transparent;
                        color: #63B3ED;
                    } @else {
                        background: #EBF8FF;
                        color: #2B6CB0;
                    }
                }
            }

            // Success
            &.asm-message-type-success {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #68D391;

                    @if ($is-dark) {
                        background: transparent;
                        color: #68D391;
                    } @else {
                        background: #F0FFF4;
                        color: #2F855A;
                    }
                }
            }

            // Warning
            &.asm-message-type-warning {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #F6AD55;

                    @if ($is-dark) {
                        background: transparent;
                        color: #F6AD55;
                    } @else {
                        background: #FFFAF0;
                        color: #C05621;
                    }
                }
            }

            // Error
            &.asm-message-type-error {

                .asm-message-container {
                    box-shadow: inset 0 0 0 1px #FC8181;

                    @if ($is-dark) {
                        background: transparent;
                        color: #FC8181;
                    } @else {
                        background: #FFF5F5;
                        color: #C53030;
                    }
                }
            }
        }
    }
}
